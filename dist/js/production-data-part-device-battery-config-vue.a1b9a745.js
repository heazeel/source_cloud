(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["production-data-part-device-battery-config-vue"],{"9ff5":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("dialog-sc",{ref:"battery-config",staticClass:"battery-config",attrs:{title:"无人机配置",size:"small"},on:{open:e.init,cancel:function(t){return e.$router.back()},submit:e.handleSubmit}},[r("el-form",{ref:"form",staticClass:"form-drawer",attrs:{rules:e.rules,model:e.form,"label-width":"70px"},nativeOn:{submit:function(e){e.preventDefault()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit(t)}}},[r("el-form-item",{attrs:{label:"型号"}},[e._v(" "+e._s(e.info.model)+" ")]),r("el-form-item",{attrs:{label:"编号"}},[e._v(" "+e._s(e.info.code)+" ")]),r("el-form-item",{staticClass:"block",attrs:{label:"位置",prop:"position"}},[r("el-radio-group",{model:{value:e.form.position,callback:function(t){e.$set(e.form,"position",t)},expression:"form.position"}},[r("el-radio",{attrs:{label:"L"}},[e._v(" 左 ")]),r("el-radio",{attrs:{label:"R"}},[e._v(" 右 ")])],1)],1)],1)],1)},o=[],a=(r("96cf"),r("1da1")),i=r("c415"),s={position:null},c={name:"BatteryConfig",data:function(){return{form:this.$lodash.cloneDeep(s),info:{},rules:{position:[{required:!0,message:"请选择位置"}]}}},methods:{init:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["detailSearch"])({id:e.$route.query.id},{loading:!0});case 2:if(r=t.sent,200===r.code){t.next=6;break}return e.form=e.$lodash.cloneDeep(s),t.abrupt("return");case 6:e.info=r.content;case 7:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return n={device_id:1e3,device_type:"uav",model:e.info.model,position:e.form.position},t.next=5,Object(i["configUpdate"])(n,{loading:!0});case 5:if(o=t.sent,200===o.code){t.next=8;break}return t.abrupt("return");case 8:e.$message({message:"配置电池".concat(e.info.code,"成功！"),type:"success",containerType:"dialog",onClose:function(){e.$router.back()}});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},u=c,l=r("2877"),f=Object(l["a"])(u,n,o,!1,null,null,null);t["default"]=f.exports}}]);