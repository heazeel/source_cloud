(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["production-data-main-device-drone-index-vue"],{2792:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("page-list",{attrs:{"search-form":e.searchForm,"table-data":e.listsData.data,"total-count":e.listsData.count,"router-name":"production_data_main_device_drone"},on:{"list-search":e.getList},scopedSlots:e._u([{key:"search-form",fn:function(){return[o("el-form-item",{attrs:{prop:"no"}},[o("el-input",{directives:[{name:"input-number-prevent-wheel",rawName:"v-input-number-prevent-wheel"}],attrs:{type:"number",clearable:"",placeholder:"序号"},model:{value:e.searchForm.no,callback:function(t){e.$set(e.searchForm,"no",t)},expression:"searchForm.no"}})],1),o("el-form-item",{attrs:{prop:"code"}},[o("el-input",{attrs:{clearable:"",placeholder:"产品编号"},model:{value:e.searchForm.code,callback:function(t){e.$set(e.searchForm,"code",t)},expression:"searchForm.code"}})],1),o("el-form-item",{attrs:{prop:"status"}},[o("el-select",{attrs:{clearable:"",placeholder:"状态"},model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,"status",t)},expression:"searchForm.status"}},e._l(e.DEV_DRONE_LIFE_STATUS,(function(e){return o("el-option",{key:e.key,attrs:{label:e.text,value:e.key}})})),1)],1),o("el-form-item",{attrs:{prop:"company_id"}},[o("select-remote",{attrs:{clearable:"",placeholder:"企业","api-key-obj":{type:"delivery",funcName:"remoteSelectSearch"}},model:{value:e.searchForm.company_id,callback:function(t){e.$set(e.searchForm,"company_id",t)},expression:"searchForm.company_id"}})],1)]},proxy:!0},{key:"operate-btns",fn:function(){return[o("button-sc",{directives:[{name:"has",rawName:"v-has",value:"production_data_main_device_drone_create",expression:"'production_data_main_device_drone_create'"}],attrs:{type:"operate"},on:{click:function(t){return e.$router.push({name:"production_data_main_device_drone_create"})}}},[e._v(" 新增 + ")])]},proxy:!0},{key:"table",fn:function(){return[o("el-table-column",{attrs:{fixed:"",prop:"no",width:"80",label:"序号"}}),o("el-table-column",{attrs:{prop:"code",width:"130",label:"产品编号"}}),o("el-table-column",{attrs:{prop:"model",width:"80",label:"型号"}}),o("el-table-column",{attrs:{prop:"company",width:"180",label:"所属企业"}}),o("el-table-column",{attrs:{prop:"last_fly",width:"180",label:"最后飞行时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("momentFormat")(t.row.last_fly,"s"))+" ")]}}])}),o("el-table-column",{attrs:{prop:"total_dis",width:"165",label:"累计飞行里程（km）"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("mToKm")(t.row.total_dis))+" ")]}}])}),o("el-table-column",{attrs:{prop:"status",width:"100",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("findSelectedText")(t.row.status,e.DEV_DRONE_LIFE_STATUS))+" ")]}}])}),o("el-table-column",{attrs:{prop:"delivery_time","min-width":"120",label:"交付日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("momentFormat")(t.row.delivery_time,"s","YYYY-MM-DD"))+" ")]}}])}),o("el-table-column",{attrs:{fixed:"right",width:"240",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("button-tooltip-icon-operation",{directives:[{name:"has",rawName:"v-has",value:"production_data_main_device_drone_look",expression:"'production_data_main_device_drone_look'"}],attrs:{type:"look"},on:{click:function(o){return e.$router.push({name:"production_data_main_device_drone_look",query:{id:t.row.id}})}}}),o("button-tooltip-icon-operation",{directives:[{name:"has",rawName:"v-has",value:"production_data_main_device_drone_update",expression:"'production_data_main_device_drone_update'"}],attrs:{type:"update"},on:{click:function(o){return e.$router.push({name:"production_data_main_device_drone_update",query:{id:t.row.id,status:t.row.status}})}}}),o("button-tooltip-icon-operation",{directives:[{name:"has",rawName:"v-has",value:"production_data_main_device_drone_config",expression:"'production_data_main_device_drone_config'"}],attrs:{type:"config"},on:{click:function(o){return e.$router.push({name:"production_data_main_device_drone_config",query:{id:t.row.id}})}}}),o("button-tooltip-icon",{directives:[{name:"has",rawName:"v-has",value:"production_data_main_device_drone_force_update",expression:"'production_data_main_device_drone_force_update'"}],attrs:{"icon-title":"紧急更新","icon-class":"iconsc-icon-forceupdate"},on:{click:function(o){return e.$router.push({name:"production_data_main_device_drone_force_update",query:{id:t.row.id}})}}}),o("button-tooltip-icon",{directives:[{name:"has",rawName:"v-has",value:"production_data_main_device_drone_log",expression:"'production_data_main_device_drone_log'"}],attrs:{"icon-title":"日志","icon-class":"iconsc-icon-log"},on:{click:function(o){return e.$router.push({name:"production_data_main_device_drone_log",query:{id:t.row.id}})}}}),o("button-tooltip-icon",{directives:[{name:"has",rawName:"v-has",value:"production_data_main_device_drone_delivery",expression:"'production_data_main_device_drone_delivery'"}],attrs:{"icon-title":"交付","icon-class":"iconsc-icon-deliver"},on:{click:function(o){return e.$router.push({name:"production_data_main_device_drone_delivery",query:{device_type:"uav",device_id:t.row.id}})}}}),o("button-tooltip-icon",{directives:[{name:"has",rawName:"v-has",value:"production_data_main_device_drone_maintain_record",expression:"'production_data_main_device_drone_maintain_record'"}],attrs:{"icon-title":"维护","icon-class":"iconsc-icon-maintain"},on:{click:function(o){return e.$router.push({name:"production_data_main_device_drone_maintain_record",query:{device_type:"uav",device_id:t.row.id}})}}}),o("button-tooltip-icon-operation",{directives:[{name:"has",rawName:"v-has",value:"production_data_main_device_drone_delete",expression:"'production_data_main_device_drone_delete'"}],attrs:{type:"delete"},on:{click:function(o){return e.deleteItem(t.row)}}})]}}])})]},proxy:!0}])},[o("router-view")],1)},n=[],r=o("5530"),i=(o("96cf"),o("1da1")),c=o("4c6b"),d=o("c415"),s={name:"DroneIndex",data:function(){return{searchForm:{no:null,code:null,status:null,company_id:null},pageObj:{page_no:1,page_size:10},listsData:{count:0,data:[]},DEV_DRONE_LIFE_STATUS:c["g"]}},methods:{getList:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.pageObj=e||t.pageObj,o.next=3,Object(d["search"])(Object(r["a"])({},t.searchForm,{},t.pageObj),{loading:!0});case 3:if(a=o.sent,200==a.code){o.next=6;break}return o.abrupt("return");case 6:t.listsData=a.content;case 7:case"end":return o.stop()}}),o)})))()},deleteItem:function(e){this.$listDeleteItem({vm:this,row:e,api:d["deleteItem"],message:"是否确认删除".concat(e.code,"的无人机？"),successMessage:"删除".concat(e.code,"成功!"),successCallback:this.getList})}}},l=s,u=o("2877"),_=Object(u["a"])(l,a,n,!1,null,null,null);t["default"]=_.exports}}]);