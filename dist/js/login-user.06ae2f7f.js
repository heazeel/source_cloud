(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login-user"],{"6d55":function(e,r,n){"use strict";n.r(r);var a=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"login-user"},[n("input-animation",{attrs:{type:"text",label:"账号",placeholder:"请输入账号","error-info":e.errorInfoObj.username},on:{blur:function(r){return e.checkValid("username",!0)},input:function(r){return e.checkValid("username")}},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}}),n("input-animation",{attrs:{type:"password",label:"密码",placeholder:"请输入密码","error-info":e.errorInfoObj.password},on:{input:function(r){return e.checkValid("password")}},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1)},t=[],o=(n("d3b7"),n("ac1f"),n("96cf"),n("1da1")),s=n("c24f"),u=(n("4c6b"),{name:"LoginUser",components:{"input-animation":function(){return Promise.resolve().then(n.bind(null,"8c9c"))}},props:{errorInfo:{type:Object,default:function(){return{username:null,password:null}}}},data:function(){return{form:{login_type:1,username:"",password:""},errorInfoObj:{username:null,password:null},canSubmit:!1}},watch:{errorInfo:{handler:function(e){e.username&&(this.errorInfoObj.username=e.username),e.password&&(this.errorInfoObj.password=e.password)},deep:!0}},methods:{checkValid:function(e,r){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("username"!=e){a.next=4;break}return a.next=3,n.checkUsername(r);case 3:n.errorInfoObj.username=a.sent;case 4:"password"==e&&(n.errorInfoObj.password=n.checkPassword()),n.canSubmit=n.errorInfoObj.username==n.errorInfoObj.password&&""==n.errorInfoObj.password,n.$emit("form-value-change",{form:n.form,error:n.errorInfoObj,canSubmit:n.canSubmit});case 7:case"end":return a.stop()}}),a)})))()},checkUsername:function(e){var r=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a,t,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a="",r.form.username){n.next=5;break}a=null,n.next=14;break;case 5:if(/^[a-zA-Z0-9]{3,20}$/.exec(r.form.username)){n.next=9;break}a="3-20位，字母或数字组合",n.next=14;break;case 9:if(!e){n.next=14;break}return n.next=12,Object(s["existedSearch"])({username:r.form.username});case 12:t=n.sent,200==t.code&&(t.content.status||0==t.content.status)&&(o=["账号不存在","","账号被禁用，请联系企业管理员"],a=o[t.content.status]);case 14:return n.abrupt("return",a);case 15:case"end":return n.stop()}}),n)})))()},checkPassword:function(){var e="";return this.form.password?/^[a-zA-Z0-9]{8,20}$/.exec(this.form.password)||(e="8-20位，字母或数字组合"):e=null,e}}}),c=u,i=n("2877"),f=Object(i["a"])(c,a,t,!1,null,null,null);r["default"]=f.exports}}]);