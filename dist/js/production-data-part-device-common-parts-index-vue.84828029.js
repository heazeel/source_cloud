(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["production-data-part-device-common-parts-index-vue"],{"9aad":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("page-list",{attrs:{"search-form":e.searchForm,"table-data":e.listsData.data,"total-count":e.listsData.count,"search-col":20,"operate-col":4,"router-name":"production_data_part_device_common_parts"},on:{"list-search":e.getList},scopedSlots:e._u([{key:"search-form",fn:function(){return[a("el-form-item",{attrs:{prop:"code"}},[a("el-input",{directives:[{name:"input-number-prevent-wheel",rawName:"v-input-number-prevent-wheel"}],attrs:{type:"number",clearable:"",placeholder:"编号"},model:{value:e.searchForm.code,callback:function(t){e.$set(e.searchForm,"code",t)},expression:"searchForm.code"}})],1),a("el-form-item",{attrs:{prop:"type_id"}},[a("select-remote",{attrs:{label:e.searchForm.type_id,"api-key-obj":{type:"commonParts",funcName:"remoteTypeSelect"},placeholder:"类别",clearable:""},model:{value:e.searchForm.type_id,callback:function(t){e.$set(e.searchForm,"type_id",t)},expression:"searchForm.type_id"}})],1),a("el-form-item",{attrs:{prop:"factory_id"}},[a("select-remote",{attrs:{label:e.searchForm.factory_id,"api-key-obj":{type:"commonParts",funcName:"remoteFactorySelect"},placeholder:"原厂",clearable:""},model:{value:e.searchForm.factory_id,callback:function(t){e.$set(e.searchForm,"factory_id",t)},expression:"searchForm.factory_id"}})],1),a("el-form-item",{attrs:{prop:"model_id"}},[a("select-remote",{attrs:{"label-key":"code",label:e.searchForm.model_id,"api-key-obj":{type:"commonParts",funcName:"remoteModelSelect"},placeholder:"型号",clearable:""},model:{value:e.searchForm.model_id,callback:function(t){e.$set(e.searchForm,"model_id",t)},expression:"searchForm.model_id"}})],1),a("el-form-item",{attrs:{prop:"device_type"}},[a("el-select",{attrs:{clearable:"",placeholder:"设备类型"},on:{change:e.clearDeviceId,clear:e.hideSelectionBox},model:{value:e.searchForm.device_type,callback:function(t){e.$set(e.searchForm,"device_type",t)},expression:"searchForm.device_type"}},e._l(e.DEV_TYPE,(function(e){return a("el-option",{key:e.key,attrs:{label:e.text,value:e.key}})})),1)],1),null!==e.searchForm.device_type?a("el-form-item",{attrs:{prop:"device_id"}},[a("select-remote",{attrs:{label:e.searchForm.device_id,params:{device_type:e.searchForm.device_type},"api-key-obj":{type:"commonParts",funcName:"remoteUAVCodeSelect"},placeholder:"设备",clearable:""},model:{value:e.searchForm.device_id,callback:function(t){e.$set(e.searchForm,"device_id",t)},expression:"searchForm.device_id"}})],1):e._e()]},proxy:!0},{key:"operate-btns",fn:function(){return[a("button-sc",{directives:[{name:"has",rawName:"v-has",value:"production_data_part_device_common_parts_create",expression:"'production_data_part_device_common_parts_create'"}],attrs:{type:"operate"},on:{click:function(t){return e.$router.push({name:"production_data_part_device_common_parts_create"})}}},[e._v(" 新增 + ")])]},proxy:!0},{key:"table",fn:function(){return[a("el-table-column",{attrs:{fixed:"",prop:"code",width:"210",label:"编号"}}),a("el-table-column",{attrs:{prop:"type",width:"130",label:"类别"}}),a("el-table-column",{attrs:{prop:"factory",width:"130",label:"原厂"}}),a("el-table-column",{attrs:{prop:"model",width:"130",label:"型号"}}),a("el-table-column",{attrs:{width:"160",label:"当前设备"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("findSelectedText")(t.row.device_type,e.DEV_TYPE))+" / "+e._s(t.row.device_id)+" ")]}}])}),a("el-table-column",{attrs:{prop:"total_time",width:"160",label:"累计使用时长（h）"}}),a("el-table-column",{attrs:{prop:"remain_day",width:"150",label:"据下次维护（天）"}}),a("el-table-column",{attrs:{prop:"remain_hour",width:"150",label:"据下次维护（h）"}}),a("el-table-column",{attrs:{prop:"status",width:"130",label:"状态"}}),a("el-table-column",{attrs:{prop:"comment","min-width":"150",label:"备注"}}),a("el-table-column",{attrs:{fixed:"right",width:"120",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("button-tooltip-icon-operation",{directives:[{name:"has",rawName:"v-has",value:"production_data_part_device_common_parts_update",expression:"'production_data_part_device_common_parts_update'"}],attrs:{type:"update"},on:{click:function(a){return e.$router.push({name:"production_data_part_device_common_parts_update",query:{id:t.row.id}})}}}),a("button-tooltip-icon",{directives:[{name:"has",rawName:"v-has",value:"production_data_part_device_common_parts_maintain_record",expression:"'production_data_part_device_common_parts_maintain_record'"}],attrs:{"icon-title":"变更记录","icon-class":"iconsc-icon-maintain"},on:{click:function(a){return e.$router.push({name:"production_data_part_device_common_parts_maintain_record",query:{part_id:t.row.id}})}}}),a("button-tooltip-icon-operation",{directives:[{name:"has",rawName:"v-has",value:"production_data_part_device_common_parts_delete",expression:"'production_data_part_device_common_parts_delete'"}],attrs:{type:"delete"},on:{click:function(a){return e.deleteItem(t.row)}}})]}}])})]},proxy:!0}])},[a("router-view")],1)},o=[],c=a("5530"),l=(a("96cf"),a("1da1")),n=a("4c6b"),i=a("2102"),s={name:"CCardIndex",data:function(){return{searchForm:{code:null,type_id:null,factory_id:null,model_id:null,device_type:null,device_id:null},pageObj:{page_no:1,page_size:10},listsData:{count:0,data:[]},DEV_TYPE:n["h"]}},methods:{getList:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.pageObj=e||t.pageObj,a.next=3,Object(i["search"])(Object(c["a"])({},t.searchForm,{},t.pageObj),{loading:!0});case 3:if(r=a.sent,200==r.code){a.next=6;break}return a.abrupt("return");case 6:t.listsData=r.content;case 7:case"end":return a.stop()}}),a)})))()},deleteItem:function(e){this.$listDeleteItem({vm:this,row:e,api:i["deleteItem"],message:"是否确认删除".concat(e.code,"的零部件？"),successMessage:"删除".concat(e.code,"成功!"),successCallback:this.getList})},clearDeviceId:function(){this.searchForm.device_id=null},hideSelectionBox:function(){this.searchForm.device_type=null,this.searchForm.device_id=null}}},d=s,p=a("2877"),m=Object(p["a"])(d,r,o,!1,null,null,null);t["default"]=m.exports}}]);