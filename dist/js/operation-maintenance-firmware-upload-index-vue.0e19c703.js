(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["operation-maintenance-firmware-upload-index-vue"],{8183:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("page-list",{attrs:{"search-form":e.searchForm,"table-data":e.listsData.firmwares,"total-count":e.listsData.count,"router-name":"firmware-upload"},on:{"list-search":e.getList},scopedSlots:e._u([{key:"search-form",fn:function(){return[r("el-form-item",{attrs:{prop:"device_type"}},[r("el-select",{attrs:{placeholder:"请选择设备类型"},model:{value:e.searchForm.device_type,callback:function(t){e.$set(e.searchForm,"device_type",t)},expression:"searchForm.device_type"}},e._l(e.DEV_TYPE,(function(e){return r("el-option",{key:e.key,attrs:{label:e.text,value:e.key}})})),1)],1)]},proxy:!0},{key:"operate-btns",fn:function(){return[r("button-sc",{directives:[{name:"has",rawName:"v-has",value:"operation_maintenance_firmware_upload_create",expression:"'operation_maintenance_firmware_upload_create'"}],attrs:{type:"operate"},on:{click:function(t){return e.$router.push({name:"operation_maintenance_firmware_upload_create"})}}},[e._v(" 新增 + ")])]},proxy:!0},{key:"table",fn:function(){return[r("el-table-column",{attrs:{prop:"device_type",label:"设备类型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("findSelectedText")(t.row.device_type,e.DEV_TYPE))+" ")]}}])}),r("el-table-column",{attrs:{prop:"version",label:"版本",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("findSelectedText")(t.row.version,e.VERSION))+" ")]}}])}),r("el-table-column",{attrs:{prop:"version_no",label:"版本号",width:"180"}}),r("el-table-column",{attrs:{prop:"upload_status",label:"上传进度","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("findSelectedText")(t.row.upload_status,e.UPLOAD_STATUS))+" ")]}}])}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("button-tooltip-icon-operation",{directives:[{name:"has",rawName:"v-has",value:"operation_maintenance_firmware_upload_delete",expression:"'operation_maintenance_firmware_upload_delete'"}],attrs:{type:"delete"},on:{click:function(r){return e.deleteItem(t.row)}}})]}}])})]},proxy:!0}])},[r("router-view")],1)},a=[],o=r("5530"),i=(r("96cf"),r("1da1")),s=r("a6f2"),c=r("4c6b"),l={name:"FirmwareUpload",data:function(){return{searchForm:{device_type:"uav"},pageObj:{page_no:1,page_size:10},listsData:{count:0,firmwares:[]},DEV_TYPE:c["h"],VERSION:c["o"],UPLOAD_STATUS:c["m"]}},methods:{getList:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.pageObj=e||t.pageObj,r.next=3,Object(s["c"])(Object(o["a"])({},t.searchForm,{},t.pageObj),{loading:!0});case 3:if(n=r.sent,200==n.code){r.next=6;break}return r.abrupt("return");case 6:t.listsData=n.content;case 7:case"end":return r.stop()}}),r)})))()},deleteItem:function(e){var t={device_type:e.device_type,version:e.version,version_no:e.version_no,file_name:e.file_name};this.$listDeleteItem({vm:this,row:e,params:t,api:s["b"],message:"是否确认删除".concat(e.version_no,"的固件？"),successMessage:"删除".concat(e.version_no,"成功!"),successCallback:this.getList,needAlertWarning:!0})}}},u=l,p=r("2877"),d=Object(p["a"])(u,n,a,!1,null,null,null);t["default"]=d.exports},a6f2:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return i}));var n=r("0d5e"),a=function(e,t){return Object(n["post"])("/dev/firmware/file/create",e,t)},o=function(e,t){return Object(n["get"])("/dev/firmware/file/search",e,t)},i=function(e,t){return Object(n["post"])("/dev/firmware/file/delete",e,t)}}}]);