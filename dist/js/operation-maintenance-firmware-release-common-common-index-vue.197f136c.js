(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["operation-maintenance-firmware-release-common-common-index-vue"],{"85cd":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("page-list",{attrs:{"search-form":e.searchForm,"table-data":e.listsData.data,"total-count":e.listsData.count,"router-name":"operation_maintenance_firmware_release_"+e.deviceType},on:{"list-search":e.getList},scopedSlots:e._u([{key:"search-form",fn:function(){return[r("el-form-item",{attrs:{prop:"version_no"}},[r("el-input",{directives:[{name:"input-number-prevent-wheel",rawName:"v-input-number-prevent-wheel"}],attrs:{clearable:"",placeholder:"请输入版本号"},model:{value:e.searchForm.version_no,callback:function(t){e.$set(e.searchForm,"version_no",t)},expression:"searchForm.version_no"}})],1)]},proxy:!0},{key:"operate-btns",fn:function(){return[r("button-sc",{directives:[{name:"has",rawName:"v-has",value:"operation_maintenance_firmware_release_"+e.deviceType+"_create",expression:"`operation_maintenance_firmware_release_${deviceType}_create`"}],attrs:{type:"operate"},on:{click:function(t){return e.$router.push({name:"operation_maintenance_firmware_release_"+e.deviceType+"_create"})}}},[e._v(" 新增 + ")])]},proxy:!0},{key:"table",fn:function(){return[r("el-table-column",{attrs:{fixed:"",prop:"id",width:"100",label:"ID"}}),r("el-table-column",{attrs:{prop:"version_no",width:"180",label:"版本号"}}),r("el-table-column",{attrs:{width:"180",label:"系统信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.sys_branch)+" "),r("br"),e._v(" "+e._s(t.row.sys_version)+" "),r("br"),e._v(" "+e._s(t.row.sys_ip_port)+" ")]}}])}),r("el-table-column",{attrs:{width:"200",label:"应用程序信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.app_branch)+" "),r("br"),e._v(" "+e._s(t.row.app_version)+" "),r("br"),e._v(" "+e._s(t.row.app_ip_port)+" ")]}}])}),r("el-table-column",{attrs:{prop:"used_flow",width:"200",label:"依赖库信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.lib_branch)+" "),r("br"),e._v(" "+e._s(t.row.lib_version)+" "),r("br"),e._v(" "+e._s(t.row.lib_ip_port)+" ")]}}])}),r("el-table-column",{attrs:{prop:"comment",width:"180",label:"备注"}}),r("el-table-column",{attrs:{"min-width":"130",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("momentFormat")(t.row.create_time,"s"))+" ")]}}])}),r("el-table-column",{attrs:{fixed:"right",width:"90",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("button-tooltip-icon-operation",{directives:[{name:"has",rawName:"v-has",value:"operation_maintenance_firmware_release_"+e.deviceType+"_delete",expression:"`operation_maintenance_firmware_release_${deviceType}_delete`"}],attrs:{type:"delete"},on:{click:function(r){return e.deleteItem(t.row)}}})]}}])})]},proxy:!0}])},[r("router-view")],1)},n=[],o=(r("4160"),r("159b"),r("5530")),s=(r("96cf"),r("1da1")),i=r("a237"),l={name:"FirmwareReleaseIndex",props:{deviceType:{type:String,default:function(){return""}}},data:function(){return{searchForm:{card_no:null,provider:null,supplier:null,model_id:null,status:null},pageObj:{page_no:1,page_size:10},listsData:{count:0,data:[]},device_type:null}},created:function(){this.device_type=this.$tools.deviceTypeNameConversion(this.deviceType)},methods:{getList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.pageObj=e||t.pageObj,r.next=3,Object(i["search"])(Object(o["a"])({},t.searchForm,{},t.pageObj),{loading:!0});case 3:if(a=r.sent,200==a.code){r.next=6;break}return r.abrupt("return");case 6:t.listsData.data=[],a.content.firmwares.forEach((function(e){e.device_type===t.device_type&&t.listsData.data.push(e)})),t.listsData.count=t.listsData.data.length;case 9:case"end":return r.stop()}}),r)})))()},deleteItem:function(e){this.$listDeleteItem({vm:this,row:e,api:i["deleteItem"],message:"是否确认删除版本号为".concat(e.version_no,"的固件？"),successMessage:"删除".concat(e.version_no,"成功!"),successCallback:this.getList})}}},c=l,u=r("2877"),p=Object(u["a"])(c,a,n,!1,null,null,null);t["default"]=p.exports}}]);